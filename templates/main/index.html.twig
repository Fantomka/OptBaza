{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}
{% block javascripts %}
<script>
    (function () {
        getProducts();
        function getProducts() {
            $.get('/home/products').done(OnGetProd);
        }
        function OnGetProd(data) {
            console.log(data);
            if (data['name'] !== undefined){
                data.forEach(prod => {
                    let p = new Prod(prod['name'], prod['cost'], prod['unit']);
                });
            }
        }
        class Prod{
            constructor (name, cost, unit) {
                this.name = name;
                this.cost = cost;
                this.unit = unit;
                this._initProd();
            }
            _initProd () {
                this.node = $('<div class="object p-0 mr-2 mb-2 d-flex align-items-center">' + this.name +" "+" "+this.unit + this.cost + '</div>').appendTo($('.buildings-wrapper')[0]);
            }
        }

    })
</script>
{%  endblock %}
{% block body %}
    <style>
        body {
            margin:50px auto;
            width:800px;
            height:300px;
            /*box-shadow:1px 1px 1px #333;*/
            background-color:#3A78A1;
            background-image:
                    linear-gradient(#83ABC4 1px, transparent 1px),
                    linear-gradient(90deg, #83ABC4 1px, transparent 1px),
                    linear-gradient(#3A78A1 1px, transparent 1px),
                    linear-gradient(90deg, #3A78A1 1px, transparent 1px),
                    linear-gradient(#4E86AB 1px, transparent 1px),
                    linear-gradient(90deg, #4E86AB 1px, transparent 1px);
            background-size:
                    100px 100px,
                    100px 100px,
                    5px 5px,
                    5px 5px,
                    20px 20px,
                    20px 20px;
            background-position:
                    -1px -1px,
                    -1px -1px,
                    0 0,
                    0 0,
                    -1px -1px,
                    -1px -1px;
        }
    </style>

{% endblock %}
